class FooterCollapseBlock extends HTMLElement{constructor(){super(),this.working=!1,this.link=this.querySelector(".footer-block__collapse-link"),this.content=this.querySelector(".footer-block__details-content"),this.stickyHeader=document.querySelector("sticky-header"),this.link.addEventListener("click",this.onLinkClick.bind(this))}onLinkClick(event){event.preventDefault(),!this.working&&(this.working=!0,this.classList.add("overflow-hidden"),this.stickyHeader&&this.stickyHeader.dispatchEvent(new Event("preventHeaderReveal")),this.hasAttribute("open")?this.close():this.open())}open(){this.setAttribute("open",!0),window.requestAnimationFrame(()=>this.expand())}expand(){const startHeightNumber=this.getElementLinkHeight(),startHeight=`${startHeightNumber}px`;this.style.height=startHeight;const endHeight=`${startHeightNumber+this.content.offsetHeight}px`;this.runAnimation(startHeight,endHeight,!0)}close(){window.requestAnimationFrame(()=>this.collapse())}collapse(){const startHeight=`${this.offsetHeight}px`,endHeight=`${this.getElementLinkHeight()}px`;this.runAnimation(startHeight,endHeight,!1)}runAnimation(startHeight,endHeight,isOpening){this.animation=this.animate({height:[startHeight,endHeight]},{duration:400,easing:"ease-out"}),this.animation.onfinish=()=>this.onAnimationFinish(isOpening)}onAnimationFinish(isOpening){this.animation=null,this.working=!1,this.style.height="",this.classList.remove("overflow-hidden"),isOpening||this.removeAttribute("open")}getElementLinkHeight(){const style=getComputedStyle(this.link.parentElement);let total=this.link.offsetHeight+parseInt(style.marginTop)+parseInt(style.marginBottom);return this.querySelector(".footer__logo")&&(total+=this.querySelector(".footer__logo").offsetHeight),total}}customElements.define("footer-collapse-block",FooterCollapseBlock);
//# sourceMappingURL=/cdn/shop/t/7/assets/footer-collapse-block.js.map?v=15467149982202930671715898700
